(this.webpackJsonpsequencer=this.webpackJsonpsequencer||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),c=n(15),r=n.n(c),i=(n(21),n(1)),l=n(11),u=n(3),o=n.n(u),p=n(4),m=n(6),f=n(7),j=n(9),h=n(13),d=n(12),b=(n(23),n(24),n(0)),A=Object(a.createContext)(),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).togglePlaying=function(){a.setState({isPlaying:!a.state.isPlaying})},a.updateCurrentStep=function(e){a.setState({currentStep:e})},a.state={isPlaying:!1,currentStep:0},a}return Object(f.a)(n,[{key:"render",value:function(){var e=Object(i.a)(Object(i.a)({},this.state),{},{togglePlaying:this.togglePlaying,updateCurrentStep:this.updateCurrentStep});return Object(b.jsx)(A.Provider,{value:e,children:this.props.children})}}]),n}(a.Component);var O=function(e){var t=e.handlePlayerClick,n=Object(a.useContext)(A).isPlaying,s=n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAAsElEQVR4nO3R0QmAMBQEwWj/PccahDxWZKaA+7hdCwAAAAAAAIC/ugY298Dmlxz97D45xnsCxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRATICZATAAAAAAAAAAAGPIABvoBcF7tWBMAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACl0lEQVR4nO2aP2oVURyFPxREQbC01V5LBd2Augm3YGlraesW3EJqswGzgKS2FSyUFAqORXILB+ZlZt7v3nP/nA9O/5tzQpJv3gNjjDHGGGOMMcb0zXP1AeZ//gKfgYfqQ8wV03V+AR+AO9pzzDTLBfBGetHgzAdJOQEeC+8alqVBJuAS+Ajcl103IIcGSfkGvFUdOBprBkk5BZ5qzhyHLYNMwB/gE/BAcewIbB0k5TvwDrhd/uS+2TtIyhnwsvjVHXPsIBO2/VAiBkn5iW3/aCIHSbkAXpd8iJ7IMUiKbX8HOQeZsO1vJvcgKbb9lZQaJOUUeFLkyRql9CATtv2DKAZJSbZ/K/tTNoRykJQz4EXuB20F9Rgptv1r1EPMM7ztqwdYyrC2ry7+pgxn++rC12Qo21eXvSVD2L665D3p2vbV5e5Nt7avLvbYdGf76kKj0o3tq4uMTBe2ry4xR34A72nU9tXl5cw5Ddq+urQSacr21WWVSjO2ry6qdKq3fXVBqlRr++pilKnS9tWl1JDdtt/N6wGzjPqn07+yZqhLUeUL/qNeRfxvbyW55OrbLPdiasuHuqgSOQEeRRWWG3VZOeOXi5XEr98riT+gqij+CLeS+EsOleQ3FVp2BOpi96Ray45AXe6WVG/ZEahLXpNmLDsCddk3pSnLjkBd+FLOgVcZn7ta1MXP07RlR6AeIKULy45APcQEfKUTy45AOUR3lh2BYohuLTuC0mN0bdkRlBpiCMuOIPcQQ1l2BDnHGM6yI8gxxLCWHUHkEMNbdgQRQ9iyAzl2DFt2MHuHsGVnYusQtuzMbBnDll2ANUPYsgtyaIhk2Xdl1w3I0hi2bBG27MqwZVeGLbsynqkPMMYYY4wxxhhjjInhHwOCEx5HZzpNAAAAAElFTkSuQmCC",c=n?"playing":"stopped";return Object(b.jsx)("div",{className:"play-stop-btn btn ".concat(c),children:Object(b.jsx)("img",{src:s,alt:"Play/Pause",onClick:t,name:"play-stop"})})};var g=function(e){var t=e.handlePlayerClick;return Object(b.jsx)("div",{className:"reset-btn btn",name:"reset",onClick:t,children:"reset"})};n(26);var C=function(e){var t=e.kits,n=e.currentKit,a=e.handlePlayerClick;return Object(b.jsx)("div",{className:"presets-menu btn",children:Object(b.jsx)("select",{value:n,onChange:a,id:"kits",className:"btn",name:"kit-selector",children:t.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e.name)}))})})};n(27);var x=function(e){var t=e.currentTempo,n=e.onTempoChange;return Object(b.jsxs)("div",{className:"tempo",children:[Object(b.jsx)("button",{className:"tempo btn",name:"tempo-increment",onClick:function(){return n(t+1)},children:" + "}),Object(b.jsx)("p",{className:"current-tempo tempo",children:t}),Object(b.jsx)("button",{className:"tempo btn",name:"tempo-decrement",onClick:function(){return n(t-1)},children:" - "})]})};n(28);var y=function(e){var t=e.isActive;return Object(b.jsx)("div",{className:"beat-indicator ".concat(t?"active":"")})};var S,P,k=function(){for(var e=Object(a.useContext)(A),t=[],n=0;n<16;n++)t.push(Object(b.jsx)(y,{isActive:e.isPlaying&&e.currentStep===n},n));return Object(b.jsxs)("div",{className:"indicator-panel",children:[Object(b.jsx)("div",{className:"buffer"}),Object(b.jsx)("div",{className:"indicators",children:t})]})},T=n(8),R=0,N=[],E=new AudioContext||new window.webkitAudioContext,B=E.createBiquadFilter(),K=null;function I(){"suspended"===E.state&&E.resume(),this.context.isPlaying?clearTimeout(P):(S=this.context.currentStep,R=E.currentTime,M.call(this))}function w(e){return V.apply(this,arguments)}function V(){return(V=Object(p.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return a=e.sent,e.next=8,E.decodeAudioData(a);case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){var n=E.createBufferSource(),a=E.createGain(),s=E.createStereoPanner();a.gain.value=e.effects.gainValue,s.pan.value=e.effects.panValue,n.buffer=e.audio,K?n.connect(a).connect(s).connect(B).connect(E.destination):n.connect(a).connect(s).connect(E.destination),n.start(t)}function L(){var e=60/this.state.currentTempo/4;R+=e,16===++S&&(S=0)}function Q(e,t){N.push({step:e,startTime:t});var n,a=Object(T.a)(this.state.samples);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.pattern[e]&&(K=this.state.filterType,H(s,t))}}catch(c){a.e(c)}finally{a.f()}}function M(){var e=E.currentTime;if(R<e+.1&&(Q.call(this,S,R),L.call(this)),N.length&&N[0].startTime<e){var t=N[0].step;N.shift(),this.updateCurrentStep(t)}P=setTimeout(M.bind(this),25)}function F(e){var t=e.coValue,n=e.resValue,a=e.type,s="lowpass"===a?.8:1.5;B.type=a,B.Q.value=Math.floor(n*s),B.frequency.value=function(e,t){var n;if("highpass"===t)return e<100&&(n=4),e>=100&&e<200&&(n=5),e>=200&&e<300&&(n=6),e>=300&&e<350&&(n=8),e>=350&&e<400&&(n=10),e>=400&&(n=15),e*n;if("lowpass"===t)return 12050-30*e}(t,a)}n(29);var q=function(e){var t=e.onFilterSelect,n=Object(a.useState)({type:null,coValue:1,resValue:0}),s=Object(l.a)(n,2),c=s[0],r=s[1],u=function(e){var n=Object(i.a)({},c),a=e.target.id;c.type===a?n.type=null:n.type=a,n.type&&F(Object(i.a)({},n)),t(n.type),r(Object(i.a)({},n))},o=function(e){var t=e.target,n=Object(i.a)({},c);"filter-cutoff"===t.id&&(n.coValue=t.value),"filter-resonance"===t.id&&(n.resValue=t.value),n.type&&F(n),r(Object(i.a)({},n))};return Object(b.jsxs)("div",{className:"filter",children:[Object(b.jsx)("h4",{children:"Filter"}),Object(b.jsxs)("div",{className:"filter-selection",children:[Object(b.jsx)("button",{className:"filter-type ".concat("highpass"===c.type?"active":""),id:"highpass",onClick:u,children:"High Pass"}),Object(b.jsx)("button",{className:"filter-type ".concat("lowpass"===c.type?"active":""),id:"lowpass",onClick:u,children:"Low Pass"})]}),Object(b.jsxs)("div",{className:"filter-inputs",children:[Object(b.jsx)("label",{htmlFor:"filter-cutoff",children:"Cutoff"}),Object(b.jsx)("input",{type:"range",id:"filter-cutoff",value:c.coValue,className:"rs-range",onChange:o,step:".5",min:"1",max:"400"}),Object(b.jsx)("label",{htmlFor:"filter-resonance",children:"Resonance"}),Object(b.jsx)("input",{type:"range",id:"filter-resonance",value:c.resValue,className:"rs-range",onChange:o,step:".1",min:"0",max:"10"})]})]})};var D=function(e){var t=e.kits,n=e.currentKit,a=e.currentTempo,s=e.handlePlayerClick,c=e.onTempoChange,r=e.onFilterSelect,l={handlePlayerClick:s},u={handlePlayerClick:s},o={kits:t,currentKit:n,handlePlayerClick:s},p={currentTempo:a,onTempoChange:c};return Object(b.jsxs)("div",{className:"player-panel",children:[Object(b.jsxs)("div",{className:"player-controls",children:[Object(b.jsx)(O,Object(i.a)({},l)),Object(b.jsx)(g,Object(i.a)({},u)),Object(b.jsx)(C,Object(i.a)({},o)),Object(b.jsx)(x,Object(i.a)({},p)),Object(b.jsx)(q,{onFilterSelect:r})]}),Object(b.jsx)("div",{children:Object(b.jsx)(k,{})})]})};n(30),n(31),n(32);var G=function(e){var t=e.onStepPadClick,n=e.sampleName,s=e.stepNum,c=e.isActive,r=Object(a.useContext)(A);return Object(b.jsx)("div",{className:"beat-pad btn ".concat(c?"active"+(r.isPlaying&&s===r.currentStep?" playing":""):""),onClick:function(e){t(n,s)}})};n(33);var Y=function(e){var t=e.sample,n=e.onSampleRangeInput,a=function(e){n(e,t.name)};return Object(b.jsxs)("div",{className:"sample-inputs-container",children:[Object(b.jsx)("h4",{children:t.name}),Object(b.jsxs)("div",{className:"sample-inputs-content",children:[Object(b.jsxs)("div",{className:"sample-input",children:[Object(b.jsxs)("label",{htmlFor:"gain-".concat(t.name),children:["Gain: ",t.effects.gainValue]}),Object(b.jsx)("input",{id:"gain-".concat(t.name),type:"range",min:"0",max:"2",step:".01",value:t.effects.gainValue,onInput:a,className:"gain-input rs-range",name:"gainValue"})]}),Object(b.jsxs)("div",{className:"sample-input",children:[Object(b.jsxs)("label",{htmlFor:"pan-".concat(t.name),children:["Pan: ",t.effects.panValue]}),Object(b.jsx)("input",{id:"panner-".concat(t.name),type:"range",min:"-1",max:"1",step:".01",value:t.effects.panValue,onInput:a,className:"pan-input rs-range",name:"panValue"})]})]})]})};var J=function(e){var t=e.sample,n=e.onStepPadClick,a=e.onSampleRangeInput,s={sample:t,onSampleRangeInput:a};return Object(b.jsxs)("div",{className:"sample-row",children:[Object(b.jsx)(Y,Object(i.a)({},s)),Object(b.jsx)("div",{className:"sample-row-pads",children:t.pattern.map((function(e,a){var s={stepNum:a,onStepPadClick:n,isActive:e,sampleName:t.name,key:a};return Object(b.jsx)(G,Object(i.a)({},s))}))})]})};var U=function(e){var t=e.samples,n=e.onStepPadClick,a=e.onSampleRangeInput;return t?Object(b.jsx)("div",{className:"samples-section",children:t.map((function(e){var t={sample:e,onStepPadClick:n,onSampleRangeInput:a,key:e.name};return Object(b.jsx)(J,Object(i.a)({},t))}))}):Object(b.jsx)("div",{children:"Loading..."})},z=[{name:"rock",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/rock/rock/",samples:["KICK-1","KICK-2","SNARE-1","HHAT-1","HHAT-2","TOM-1","TOM-2","RIDE","CRASH","TAMBORINE","SHAKER"],defaultTempo:100},{name:"hipHop",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/hip-hop/hip-hop/",samples:["KICK-1","KICK-2","SNARE-1","HHAT-1","HHAT-2","CLAP-1","PERC-1","PERC-2","PERC-3","CYMBAL-1","VOCAL-1"],defaultTempo:90},{name:"house",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/house/house/",samples:["KICK-1","SNARE-1","CLAP-1","CLAP-2","HHAT-1","HHAT-2","PERC-1","PERC-2","CYMBAL-1","STAB-1","TOM-1"],defaultTempo:125},{name:"techno",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/techno/techno/",samples:["KICK-1","KICK-2","SNARE-1","SNARE-2","HHAT-1","PERC-1","PERC-2","PERC-3","PERC-4","FX-1"],defaultTempo:130},{name:"dnb",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/dnb/dnb/",samples:["KICK-1","SNARE-1","SNARE-2","HHAT-1","HHAT-2","PERC-1","BASS-1","BASS-2","BASS-3","FX-1","FX-2"],defaultTempo:170}],X=function(){function e(t){var n=t.name,a=t.defaultTempo,s=t.samples,c=t.path;Object(m.a)(this,e),this.name=n,this.tempo=a,this.samples=this.loadSamples(s,c)}return Object(f.a)(e,[{key:"loadSamples",value:function(e,t){var n,a=[],s=Object(T.a)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,r={};r.name=c,r.pattern=Array.from({length:16},(function(){return!1})),r.effects={gainValue:1,panValue:0},r.audio=null,r.path=t+c.toLowerCase()+".wav",a.push(r)}}catch(i){s.e(i)}finally{s.f()}return a}}]),e}(),Z=n(16),W=function(){var e=Object(p.a)(o.a.mark((function e(t){var n,a,s,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(T.a)(t),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=13;break}return c=s.value,r=Object(i.a)({},c),e.next=9,w(c.path);case 9:r.audio=e.sent,n.push(r);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();function $(e,t){var n=this;return this.state.samples.map((function(a){if(a.name===e){var s=Object(i.a)({},a);return s.pattern=Object(Z.a)(a.pattern),s.pattern[t]=!s.pattern[t],s.pattern[t]&&!n.context.isPlaying&&H(s,0),s}return a}))}function _(e,t,n){return this.state.samples.map((function(a){if(a.name===e){var s=Object(i.a)({},a);return s.effects=Object(i.a)({},a.effects),s.effects[t]=n,s}return a}))}var ee=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).fetchKits=function(){return z},e.setupKit=function(t){var n=new X(t);e.setState({currentKit:n.name,currentTempo:n.tempo,samples:n.samples}),e.loadKitAudio(n.samples)},e.loadKitAudio=function(){var t=Object(p.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(n);case 2:a=t.sent,e.setState({samples:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPlayPause=function(){I.call(Object(j.a)(e)),e.context.togglePlaying(),e.context.updateCurrentStep(0)},e.handlePlayerClick=function(t){var n=t.target.getAttribute("name"),a=t.target.value||"";"play-stop"===n&&e.onPlayPause(),"reset"===n&&e.onResetClick(),"kit-selector"===n&&e.onKitSelection(a)},e.updateCurrentStep=function(t){e.context.updateCurrentStep(t)},e.onKitSelection=function(t){e.context.isPlaying&&e.onPlayPause();var n=e.state.kits.filter((function(e){return e.name===t})),a=Object(l.a)(n,1)[0];e.setupKit(a)},e.onResetClick=function(){e.context.isPlaying&&e.onPlayPause();var t=function(e){return e.map((function(e){var t=Object(i.a)({},e);return t.pattern=Array.from({length:16},(function(){return!1})),t.effects={gainValue:1,panValue:0},t}))}(e.state.samples);e.setState({samples:t})},e.onTempoChange=function(t){t=(t=t<60?60:t)>200?200:t,e.setState({currentTempo:t})},e.onFilterSelect=function(t){e.setState({filterType:t})},e.onStepPadClick=function(t,n){var a=e.updatePattern(t,n);e.setState({samples:a})},e.onSampleRangeInput=function(t,n){var a=t.target.getAttribute("name"),s=t.target.value,c=e.updateEffect(n,a,s);e.setState({samples:c})},e.state={kits:[],currentTempo:0,currentKit:"",samples:null,filterType:null},e.updatePattern=$.bind(Object(j.a)(e)),e.updateEffect=_.bind(Object(j.a)(e)),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.fetchKits(),n=t.filter((function(e){return"house"===e.name})),a=Object(l.a)(n,1),s=a[0],this.setState({kits:t}),this.setupKit(s);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={kits:this.state.kits,currentKit:this.state.currentKit,currentTempo:this.state.currentTempo,handlePlayerClick:this.handlePlayerClick,onTempoChange:this.onTempoChange,onFilterSelect:this.onFilterSelect},t={samples:this.state.samples,onStepPadClick:this.onStepPadClick,onSampleRangeInput:this.onSampleRangeInput};return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(D,Object(i.a)({},e)),Object(b.jsx)(U,Object(i.a)({},t))]})}}]),n}(a.Component);ee.contextType=A;var te=ee,ne=n.p+"static/media/brushed-aluminium.312149e7.jpg";var ae=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("img",{src:ne,className:"bg-image",alt:"brushed aluminium"}),Object(b.jsx)(v,{children:Object(b.jsx)(te,{})})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(ae,{})}),document.getElementById("root")),se()}},[[34,1,2]]]);
//# sourceMappingURL=main.2061f037.chunk.js.map