(this.webpackJsonpsequencer=this.webpackJsonpsequencer||[]).push([[0],Array(21).concat([function(t,e,n){},,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(14),c=n.n(s),r=(n(21),n(2)),o=n(3),u=n.n(o),l=n(4),p=n(5),m=n(10),j=n(8),d=n(12),h=n(11),f=(n(23),n(24),n(0)),A=Object(a.createContext)(),b=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).togglePlaying=function(){a.setState({isPlaying:!a.state.isPlaying})},a.updateCurrentStep=function(t){a.setState({currentStep:t})},a.state={isPlaying:!1,currentStep:0},a}return Object(m.a)(n,[{key:"render",value:function(){var t=Object(r.a)(Object(r.a)({},this.state),{},{togglePlaying:this.togglePlaying,updateCurrentStep:this.updateCurrentStep});return Object(f.jsx)(A.Provider,{value:t,children:this.props.children})}}]),n}(a.Component);n(26);var v=function(t){var e=t.onPlayPause,n=Object(a.useContext)(A).isPlaying,i=n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAA0UlEQVR4nO3RgQmAQAwEwdf+e9YaAvouMlPAJbBrAQAAAAAA/Nux4cb18N7056/vj5xvjjMnSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgMYLECBIjSIwgAAAAAAAAbHUDEFQCiJJ3gF0AAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACl0lEQVR4nO2aP2oVURyFPxREQbC01V5LBd2Augm3YGlraesW3EJqswGzgKS2FSyUFAqORXILB+ZlZt7v3nP/nA9O/5tzQpJv3gNjjDHGGGOMMcb0zXP1AeZ//gKfgYfqQ8wV03V+AR+AO9pzzDTLBfBGetHgzAdJOQEeC+8alqVBJuAS+Ajcl103IIcGSfkGvFUdOBprBkk5BZ5qzhyHLYNMwB/gE/BAcewIbB0k5TvwDrhd/uS+2TtIyhnwsvjVHXPsIBO2/VAiBkn5iW3/aCIHSbkAXpd8iJ7IMUiKbX8HOQeZsO1vJvcgKbb9lZQaJOUUeFLkyRql9CATtv2DKAZJSbZ/K/tTNoRykJQz4EXuB20F9Rgptv1r1EPMM7ztqwdYyrC2ry7+pgxn++rC12Qo21eXvSVD2L665D3p2vbV5e5Nt7avLvbYdGf76kKj0o3tq4uMTBe2ry4xR34A72nU9tXl5cw5Ddq+urQSacr21WWVSjO2ry6qdKq3fXVBqlRr++pilKnS9tWl1JDdtt/N6wGzjPqn07+yZqhLUeUL/qNeRfxvbyW55OrbLPdiasuHuqgSOQEeRRWWG3VZOeOXi5XEr98riT+gqij+CLeS+EsOleQ3FVp2BOpi96Ray45AXe6WVG/ZEahLXpNmLDsCddk3pSnLjkBd+FLOgVcZn7ta1MXP07RlR6AeIKULy45APcQEfKUTy45AOUR3lh2BYohuLTuC0mN0bdkRlBpiCMuOIPcQQ1l2BDnHGM6yI8gxxLCWHUHkEMNbdgQRQ9iyAzl2DFt2MHuHsGVnYusQtuzMbBnDll2ANUPYsgtyaIhk2Xdl1w3I0hi2bBG27MqwZVeGLbsynqkPMMYYY4wxxhhjjInhHwOCEx5HZzpNAAAAAElFTkSuQmCC",s=n?"playing":"paused";return Object(f.jsx)("div",{className:"play-pause-btn btn ".concat(s),children:Object(f.jsx)("img",{src:i,alt:"Play/Pause",onClick:e})})};n(27);var C=function(t){var e=t.onResetClick;return Object(f.jsx)("div",{className:"reset-btn btn",onClick:e,children:Object(f.jsx)("p",{children:"reset"})})},g=n(6);n(28);var O=function(t){var e,n=t.kits,a=t.kitData,i=t.onKitSelection,s=[],c=a.name,r=Object(g.a)(n);try{for(r.s();!(e=r.n()).done;){var o=e.value,u=Object(f.jsxs)("option",{value:o,children:[o," "]},o);s.push(u)}}catch(l){r.e(l)}finally{r.f()}return Object(f.jsx)("div",{className:"presets-menu btn",children:Object(f.jsx)("select",{value:c,onChange:i,id:"kits",className:"btn",children:s})})};n(29);var S=function(t){var e=t.currentTempo,n=t.onTempoChange;return Object(f.jsxs)("div",{className:"tempo",children:[Object(f.jsx)("button",{className:"tempo btn",onClick:function(){return n(e+1)},children:"+"}),Object(f.jsx)("p",{className:"current-tempo tempo",children:e}),Object(f.jsx)("button",{className:"tempo btn",onClick:function(){return n(e-1)},children:"-"})]})};var k=function(t){var e=t.kits,n=t.kitData,a=t.currentTempo,i=t.onPlayPause,s=t.onKitSelection,c={onPlayPause:i},o={onResetClick:t.onResetClick},u={kitData:n,kits:e,onKitSelection:s},l={currentTempo:a,onTempoChange:t.onTempoChange};return Object(f.jsxs)("div",{className:"control-panel",children:[Object(f.jsx)(v,Object(r.a)({},c)),Object(f.jsx)(C,Object(r.a)({},o)),Object(f.jsx)(O,Object(r.a)({},u)),Object(f.jsx)(S,Object(r.a)({},l))]})};n(30),n(31);var x=function(t){var e=t.isActive;return Object(f.jsx)("div",{className:"beat-indicator ".concat(e?"active":"")})};var P=function(){for(var t=Object(a.useContext)(A),e=[],n=0;n<16;n++)e.push(Object(f.jsx)(x,{isActive:t.isPlaying&&t.currentStep===n},n));return Object(f.jsxs)("div",{className:"indicator-panel",children:[Object(f.jsx)("div",{className:"buffer"}),Object(f.jsx)("div",{className:"indicators",children:e})]})};n(32),n(33),n(34);var y=function(t){var e=t.sample,n=t.onSamplePadClick,a=t.onGainChange;return Object(f.jsxs)("div",{className:"sample-pad btn",onClick:function(t){t.target.classList.contains("gain-input")||n(e.name,t.target.value)},children:[Object(f.jsx)("audio",{src:e.url,id:e.name,crossOrigin:"anonymous"}),Object(f.jsx)("h5",{children:e.name}),Object(f.jsxs)("label",{htmlFor:"gain-".concat(e.name),children:["Gain - ",e.gainValue]}),Object(f.jsx)("input",{type:"range",min:"0",max:"2",step:".01",value:e.gainValue,onInput:function(t){var n=t.target.value;a(e.name,n)},className:"gain-input"})]})};n(35);var w=function(t){var e=t.onStepPadClick,n=t.sampleName,i=t.stepNum,s=t.isActive,c=Object(a.useContext)(A),r=s?"active":"",o="";return c.isPlaying&&i===c.currentStep&&(o="playing"),Object(f.jsx)("div",{className:"beat-pad btn ".concat(r," ").concat(o),onClick:function(t){e(n,i)}})};var I=function(t){var e=t.sample,n=t.onSamplePadClick,a=t.onStepPadClick,i=t.onGainChange,s={sample:e,onSamplePadClick:n,onGainChange:i};return Object(f.jsxs)("div",{className:"sample-row",children:[Object(f.jsx)(y,Object(r.a)({},s)),e.pattern.map((function(t,n){var i={stepNum:n,onStepPadClick:a,isActive:t,sampleName:e.name,key:n};return Object(f.jsx)(w,Object(r.a)({},i))}))]})};var B,E,T=function(t){var e=t.kitData,n=t.onStepPadClick,a=t.onSamplePadClick,i=t.onGainChange;return e?Object(f.jsx)("div",{className:"samples-section",children:e.samples.map((function(t){var e={sample:t,onSamplePadClick:a,onStepPadClick:n,onGainChange:i,key:t.name};return Object(f.jsx)(I,Object(r.a)({},e))}))}):Object(f.jsx)("div",{children:"Loading..."})},R=[{name:"rock",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/rock/rock/",samples:["KICK-1","KICK-2","SNARE-1","HHAT-1","HHAT-2","TOM-1","TOM-2","RIDE","CRASH","TAMBORINE","SHAKER"],defaultTempo:100},{name:"hipHop",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/hip-hop/hip-hop/",samples:["KICK-1","KICK-2","SNARE-1","HHAT-1","HHAT-2","CLAP-1","PERC-1","PERC-2","PERC-3","CYMBAL-1","VOCAL-1"],defaultTempo:90},{name:"house",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/house/house/",samples:["KICK-1","SNARE-1","CLAP-1","CLAP-2","HHAT-1","HHAT-2","PERC-1","PERC-2","CYMBAL-1","STAB-1","TOM-1"],defaultTempo:125},{name:"techno",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/techno/techno/",samples:["KICK-1","KICK-2","SNARE-1","SNARE-2","HHAT-1","PERC-1","PERC-2","PERC-3","PERC-4","FX-1"],defaultTempo:130},{name:"dnb",path:"https://sequencer-test-samples.s3.us-east-2.amazonaws.com/originalKits/dnb/dnb/",samples:["KICK-1","SNARE-1","SNARE-2","HHAT-1","HHAT-2","PERC-1","BASS-1","BASS-2","BASS-3","FX-1","FX-2"],defaultTempo:170}],K=0,L=[],N=new AudioContext||new window.webkitAudioContext;function M(){"suspended"===N.state&&N.resume(),this.context.isPlaying?clearTimeout(E):(B=this.context.currentStep,K=N.currentTime,Q.call(this))}function D(t){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function t(e){var n,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.arrayBuffer();case 5:return a=t.sent,t.next=8,N.decodeAudioData(a);case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t,e){var n=N.createBufferSource(),a=N.createGain();a.gain.value=t.gainValue,n.buffer=t.audio,n.connect(a).connect(N.destination),n.start(e)}function Y(){var t=60/this.state.currentTempo/4;K+=t,16===++B&&(B=0)}function G(t,e){L.push({step:t,startTime:e});var n,a=Object(g.a)(this.state.kitData.samples);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.pattern[t]&&V(i,e)}}catch(s){a.e(s)}finally{a.f()}}function Q(){var t=N.currentTime;if(K<t+.1&&(G.call(this,B,K),Y.call(this)),L.length&&L[0].startTime<t){var e=L[0].step;L.shift(),this.updateCurrentStep(e)}E=setTimeout(Q.bind(this),25)}var q=n(15),U=n(16),F=function(){var t=Object(l.a)(u.a.mark((function t(e){var n,a,i,s,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(r.a)({},e),a=[],i=Object(g.a)(n.samples),t.prev=3,i.s();case 5:if((s=i.n()).done){t.next=14;break}return c=s.value,o=Object(r.a)({},c),t.next=10,D(c.url);case 10:o.audio=t.sent,a.push(o);case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),i.e(t.t0);case 19:return t.prev=19,i.f(),t.finish(19);case 22:return n.samples=a,t.abrupt("return",n);case 24:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})));return function(e){return t.apply(this,arguments)}}();function z(t,e,n){var a=this,i=J(this.state.kitData);return i.samples.map((function(i){if(!i[e])throw ReferenceError('"'.concat(e,'" does not exist.'));if(i.name===t)if("pattern"===e){var s=n;i.pattern[s]=!i.pattern[s],i.pattern[s]&&!a.context.isPlaying&&V(i,0)}else i[e]=n;return i})),i}function X(t){var e=this.state.kitData.samples.filter((function(e){return e.name===t}));V(Object(U.a)(e,1)[0],0)}function J(t){var e=Object(r.a)({},t),n=e.samples.map((function(t){var e=Object(r.a)({},t),n=Object(q.a)(t.pattern);return e.pattern=n,e}));return e.samples=n,e}var Z=function t(e){var n=e.name,a=e.path,i=e.defaultTempo,s=e.samples;Object(p.a)(this,t),this.name=n,this.defaultTempo=i,this.samples=s.map((function(t){return{name:t,pattern:Array.from({length:16},(function(){return!1})),audio:null,gainValue:1,panValue:0,url:a+t.toLowerCase()+".wav"}}))},W=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this)).getSelectedKit=function(t){return R.filter((function(e){return e.name===t}))[0]},a.setupKit=function(t){var e=new Z(t);a.setState({kitData:e,currentTempo:e.defaultTempo}),a.loadKitAudio(e)},a.loadKitAudio=function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:n=t.sent,a.setState({kitData:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onPlayPause=function(){M.call(Object(j.a)(a)),a.context.togglePlaying(),a.context.updateCurrentStep(0)},a.updateCurrentStep=function(t){a.context.updateCurrentStep(t)},a.onKitSelection=function(t){a.context.isPlaying&&a.onPlayPause();var e=t.target.value,n=a.getSelectedKit(e);a.setupKit(n)},a.onResetClick=function(){a.context.isPlaying&&a.onPlayPause();var t=function(t){var e=J(t);return e.samples.map((function(t){return t.pattern=Array.from({length:16},(function(){return!1})),t.gainValue=1,t.panValue=0,t})),e}(a.state.kitData);a.setState({kitData:t})},a.onTempoChange=function(t){a.setState({currentTempo:t})},a.onStepPadClick=function(t,e){var n=a.updateSample(t,"pattern",e);a.setState({kitData:n})},a.onSamplePadClick=function(t){X.call(Object(j.a)(a),t)},a.onGainChange=function(t,e){var n=a.updateSample(t,"gainValue",e);a.setState({kitData:n})},a.state={kits:[],currentTempo:0,kitData:null},a.updateSample=z.bind(Object(j.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.getSelectedKit(this.props.defaultKit),this.setState({kits:R.map((function(t){return t.name}))}),this.setupKit(e);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t={kits:this.state.kits,kitData:this.state.kitData||"",currentTempo:this.state.currentTempo,onPlayPause:this.onPlayPause,onTempoChange:this.onTempoChange,onResetClick:this.onResetClick,onKitSelection:this.onKitSelection},e={kitData:this.state.kitData,onSamplePadClick:this.onSamplePadClick,onStepPadClick:this.onStepPadClick,onGainChange:this.onGainChange};return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(k,Object(r.a)({},t)),Object(f.jsx)(P,{}),Object(f.jsx)(T,Object(r.a)({},e))]})}}]),n}(a.Component);W.defaultProps={defaultKit:"house"},W.contextType=A;var $=W;var _=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(b,{children:Object(f.jsx)($,{})})})},tt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),s(t),c(t)}))};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(_,{})}),document.getElementById("root")),tt()}]),[[36,1,2]]]);
//# sourceMappingURL=main.bfa8d80e.chunk.js.map